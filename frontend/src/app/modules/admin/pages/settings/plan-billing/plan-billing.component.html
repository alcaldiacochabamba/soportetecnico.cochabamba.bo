<div class="w-full max-w-5xl mx-auto">
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
        <!-- Formulario de Tipos -->
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold mb-6 text-primary">
                {{ isEditMode ? 'Editar Tipo de Hardware' : 'Crear Nuevo Tipo de Hardware' }}
            </h2>
            
            <form [formGroup]="typeForm" (ngSubmit)="onSubmit()" class="space-y-4">
                <mat-form-field appearance="outline" class="w-full">
                    <mat-label>Descripción</mat-label>
                    <input matInput formControlName="descripcion">
                </mat-form-field>

                <div class="flex justify-end space-x-4">
                    <button 
                        mat-stroked-button 
                        type="button" 
                        (click)="resetForm()"
                        class="text-gray-600">
                        Cancelar
                    </button>
                    <button 
                        mat-flat-button 
                        color="primary" 
                        type="submit"
                        [disabled]="!typeForm.get('descripcion')?.value.trim()">
                        {{ isEditMode ? 'Actualizar' : 'Crear' }}
                    </button>
                </div>
            </form>
        </div>

        <!-- Tabla de Tipos -->
        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-md">
            <h2 class="text-2xl font-bold mb-6 text-primary">Lista de Tipos de Hardware</h2>
            
            <table mat-table [dataSource]="dataSource" matSort class="w-full">
                <!-- ID Column -->
                <ng-container matColumnDef="tipos_id">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
                    <td mat-cell *matCellDef="let type">{{ type.tipos_id }}</td>
                </ng-container>

                <!-- Descripción Column -->
                <ng-container matColumnDef="descripcion">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Descripción</th>
                    <td mat-cell *matCellDef="let type">{{ type.descripcion }}</td>
                </ng-container>

                <!-- Estado Column -->
                <ng-container matColumnDef="estado">
                    <th mat-header-cell *matHeaderCellDef mat-sort-header>Estado</th>
                    <td mat-cell *matCellDef="let type">
                        <span 
                            [ngClass]="{
                                'text-green-600': type.estado === 1, 
                                'text-red-600': type.estado === 0
                            }">
                            {{ type.estado === 1 ? 'Activo' : 'Inactivo' }}
                        </span>
                    </td>
                </ng-container>

                <!-- Acciones Column -->
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef>Acciones</th>
                    <td mat-cell *matCellDef="let type" class="flex items-center space-x-2">
                        <button 
                            mat-icon-button 
                            color="primary" 
                            (click)="editType(type)"
                            class="flex-shrink-0"
                            matTooltip="Editar">
                            <mat-icon>edit</mat-icon>
                        </button>
                        <button 
                            mat-icon-button 
                            color="warn" 
                            (click)="deleteType(type)"
                            class="flex-shrink-0"
                            [disabled]="type.estado === 0"
                            matTooltip="{{ type.estado === 1 ? 'Desactivar' : 'Desactivado' }}">
                            <mat-icon>{{ type.estado === 1 ? 'delete' : 'block' }}</mat-icon>
                        </button>
                    </td>
                </ng-container>

                <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                <!-- Fila cuando no hay datos -->
                <tr class="mat-row" *matNoDataRow>
                    <td class="mat-cell" colspan="4">
                        No hay tipos registrados
                    </td>
                </tr>
            </table>

            <!-- Paginación -->
            <mat-paginator 
                [pageSizeOptions]="[5, 10, 20]"
                showFirstLastButtons
                aria-label="Seleccionar página de tipos">
            </mat-paginator>
        </div>
    </div>
</div>
